#	File : mef.conf

######################### MEF Configuration command ##################
mefcfg={
	#Criteria: bit0-broadcast, bit1-unicast, bit3-multicast
	Criteria=3 		# Unicast and broadcast frames are received during hostsleepmode
	NumEntries=2		# Number of activated MEF entries
	#mef_entry_0: example filters to match TCP destination port 80 send by 192.168.0.88 pkt or magic pkt.
	mef_entry_0={
		#mode: bit0--hostsleep mode, bit1--non hostsleep mode
		mode=1		# HostSleep mode
		#action: 0--discard and not wake host, 1--discard and wake host 3--allow and wake host
		action=3	# Allow and Wake host
		filter_num=5    # Number of filter
		#RPN only support "&&" and "||" operator,space can not be removed between operator.
		RPN=Filter_0 && Filter_1 && Filter_2 && Filter_3 && Filter_4
		#Byte comparison filter's type is 0x41,Decimal comparison filter's type is 0x42,
		#Bit comparison filter's type is  0x43
		# IP Src Address
		Filter_0={
			type=0x41          	# Byte comparison filter
			repeat=1            # 1 copies of 'xx:xx:xx:xx'
			byte=xx:xx:xx:xx	# 'xx:xx:xx:xx' is the byte sequence constant with each byte
						        # in hex format, with ':' as delimiter between two byte.
			offset=34           # 34 is the byte offset of the equal length field of tcp pkt.
		}
		#Filter_1 is Byte comparison filter, it always with type=0x41
		#Byte filter always has type, byte, repeat, offset 4 filed
		#Filter_1 will match rx pkt send by IP address 192.168.0.88
		# IP Dst Address
		Filter_1={
			type=0x41
			repeat=1
			byte=xx:xx:xx:xx
			offset=38
		}
        # TCP Src Port
		Filter_2={
			type=0x41
			repeat=1
			byte=xx:xx
			offset=42
		}
        # TCP Dst Port
		Filter_3={
			type=0x41
			repeat=1
			byte=xx:xx
			offset=44
		}
        # TCP Payload
		Filter_4={
			type=0x41
			repeat=1
			byte=xx:xx:xx:xx
			offset=62
		}
	}
	mef_entry_1={
		mode=1          # HostSleep mode
		action=0x10
		filter_num=2    # Number of filter
		RPN=Filter_0 && Filter_1
		Filter_0={
			type=0x41
			repeat=1
			byte=08:06   # '08:06' for arp protocol
			offset=20
		}
		Filter_1={
			type=0x41
			repeat=1
			byte=xx:xx:xx:xx  # target IP address
			offset=46
		}

	}
}

#------------------------------------------------------------------------------------------------------
